## Планирование
#### Перечень автоматизируемых сценариев
Тестирование всех сценариев покупки тура проводится последовательно на обеих СУБД: MySQL и PostgreSQL.


*Позитивные сценарии*

I. Сценарии по покупке тура через оплату по карте. Кнопка "Купить" на главной странице.

* Оплата по активной карте
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление окна подтверждения "Операция одобрена Банком".
  1. Проверка правильности сохранения данных в БД
 
* Оплата по заблокированной карте
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление окна с предупреждением "Ошибка! Банк отказал в проведении операции".
  1. Проверка правильности сохранения данных в БД

* Отправка пустой формы
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление предупреждения под полями ввода: "Неверный формат", под полем Владелец: "Поле обязательно для заполнения"
  1. Проверка, что данных в БД не сохранено
 
 II. Те же сценарии по покупке тура через получение кредита по карте. Кнопка "Купить в кредит" на главной странице.

   *Негативные сценарии*
* Оплата по карте с невалидным номером
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты. Карта с невалидным номером "4444 4444 4444 4443"
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление окна с предупреждением "Ошибка! Банк отказал в проведении операции".
  1. Проверка, что данных в БД не сохранено

* Оплата по карте с номером несуществующего формата
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты. Карта номером "4444 4444 4"
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление окна с предупреждением "Ошибка! Банк отказал в проведении операции".
  1. Проверка, что данных в БД не сохранено

* Оплата по карте с невалидным месяцем
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты. В графу "Месяц" ввести невалидные данные: "15"
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление предупреждения под полем ввода месяца: "Неверно указан срок действия карты".
 
* Оплата по карте с невалидным годом
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты. В графу "Год" ввести невалидные данные: "80"
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление предупреждения под полем ввода года: "Неверно указан срок действия карты".
  
* Оплата по карте с истекшим сроком
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты. В графу "Год" ввести невалидные данные: "11"
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление предупреждения под полем ввода года: "Истёк срок действия карты".
    
* Оплата по карте с невалидным именем владельца карты
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты. В графу "Владелец" ввести невалидные данные: "1"
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление предупреждения под полем ввода ФИО: "Неверный формат".
  
* Оплата по карте с невалидным CVC/CVV
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести данные карты. В графу "Владелец" ввести невалидные данные: "5"
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление предупреждения под полем ввода CVC/CVV: "Неверный формат".

* Заполнение всех полей невалидными значениями, а затем исправление на валидные и оплата.
  1. Открыть страницу [веб-сервиса](http://localhost:8080/)
  1. Нажать кнопку `Купить`
  1. Ввести невалидные данные во все поля.
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление предупреждения под полями Номер карты, Владелец и CVC: "Неверный формат", под полями Месяц и Год: "Неверно указан срок действия карты"
  1. Очистить все поля и заполнить валидными данными.
  1. Нажать кнопку `Продолжить`
  1. Ожидаемый результат: Появление окна подтверждения "Операция одобрена Банком".
  1. Проверка правильности сохранения данных в БД
  1. Проверка корректного отображение предупреждений под полями формы.

#### Перечень используемых инструментов с обоснованием выбора
1. *IntelliJ IDEA* - самая популярная среда разработки в мире Java. Преимущества: автоматически анализирует код, ищет связи между символами во всех файлах, используемых в проекте. Интегрирован с различными системами. Предоставляет инструменты запуска тестов и анализа покрытия кода.   
1. *Git* - распределённая система управления версиями. Даёт возможность отслеживать изменения в файлах и работать совместно с другими сотрудниками.
1. *GitHub* - сервис онлайн-хостинга репозиториев, обладающий всеми функциями распределённого контроля версий и функциональностью управления исходным кодом. Общий доступ, возможность вносить корректировки, управлять проектами, проводить удаленное независимое исполнение кода.
1. *Docker* - ПО, позволяющее операционной системе запускать процессы в изолированном окружении на базе специально созданных образов. Это универсальный способ доставки приложений на машины (локальный компьютер или удаленные сервера) и их запуска в изолированном окружении.
1. *Selenide* - удобный инструмент для автоматических тестов, построенный на базе Selenium WebDriver (инструмент для управления браузером). Преимущества: автоматическое управление браузером, умные ожидания, автоматические скриншоты, удобные методы.
1. *JUnit* - платформа для написания авто-тестов и их запуска. Имеет готовый набор методов для сравнения ожидаемого и фактического результата.
1. *Gradle* — система управления зависимостями. Один из самых удобных инструментов автоматизации сборки и управления зависимостями. Сам выкачивает нужные библиотеки и их зависимости. Имеет простые локаничные подключения плагинов.
1. *Allure* - фреймворк для создания простых и наглядных отчётов автотестов, понятных всем участникам команды. Возможность получать скриншоты, легкий поиск ошибок.

#### Перечень и описание возможных рисков при автоматизации
1. Сложность настройки и работы с СУБД, т.к. приложение работает сразу с двумя СУБД: MySQL, PostgreSQL. Сложнее отследить возможные ошибки.
1. Вместо работы с банковскими сервисами, в тестировании используется симулятор, написанный на Node.js. Интеграция с платежной системой может иметь скрытые нюансы, которые неожиданно могут отсрочить выполнение задачи.
1. При написании тестов используются CSS селекторы. В коде не предусмотрели уникальные атрибуты "data-", и при изменениях на странице, тесты придется заново настраивать.

#### Интервальная оценка с учётом рисков (в часах)
1. Настройка систем для работы, подготовка тестового окружения - 24 часа
1. Написание авто-тестов, их прогон - 56 часов
1. Написание отчетов об ошибках, багах - 8 часов
1. Написание документов по итогам тестирования - 24 часа
1. Написание документов по итогам автоматизации - 24 часа
 
#### План сдачи работ
 1. Сдача плана автоматизации после начала работы над дипломом, в течение 3 рабочих дней  - 11.08.2020
 1. Настройка систем,подготовка тестового окружения, в течение 4 рабочих дней 15.08.2020
 1. Написание авто-тестов и их прогон, в течение 10 рабочих дней - 25.08.2020
 1. Создание отчетных документов по итогам тестирования, в течение 4 рабочих дней - 29.08.2020
 1. Создание отчетных документов по итогам автоматизации, в течение 4 рабочих дней - 02.09.2020